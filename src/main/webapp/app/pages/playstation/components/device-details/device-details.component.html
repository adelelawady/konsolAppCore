<div class="device-details" *ngIf="selectedDevice">
  <div class="device-details__header">
    <h2>{{ selectedDevice.name }}</h2>
    <div class="device-status" [ngClass]="{'active': isDeviceActive()}">
      {{ isDeviceActive() ? 'Active' : 'Inactive' }}
    </div>
  </div>

  <div class="device-details__content">
    <div class="info-group">
      <label>Type:</label>
      <span>{{ selectedDevice.type?.name }}</span>
    </div>

    <div class="info-group">
      <label>Status:</label>
      <span>{{ getDeviceStatus() ? 'Active' : 'Inactive' }}</span>
    </div>

    <ng-container *ngIf="selectedDevice.session">
      <div class="info-group">
        <label>Session Start:</label>
        <span>{{ selectedDevice.session.startTime | date:'medium' }}</span>
      </div>

      <div class="info-group">
        <label>Duration:</label>
        <span>{{ getSessionDuration() }}</span>
      </div>
    </ng-container>

    <div class="actions">
      <button 
        class="btn btn-primary" 
        (click)="startSession()" 
        [disabled]="isStartingSession || isDeviceActive()"
      >
        <span class="spinner-border spinner-border-sm me-1" *ngIf="isStartingSession"></span>
        Start Session
      </button>
    </div>
  </div>
</div>

<div class="no-device-selected" *ngIf="!selectedDevice">
  <p>No device selected</p>
</div>
