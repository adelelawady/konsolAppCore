<div class="page-wrapper">
  <div class="container-xl">
    <div class="page-header d-print-none">
      <div class="row align-items-center">
        <div class="col">
          <h2 class="page-title">
            <fa-icon [icon]="'users'" class="me-2"></fa-icon>
            {{ 'accounts.title' | translate }}
          </h2>
          <div class="text-muted mt-1">
            <fa-icon [icon]="'circle-user'" class="me-2"></fa-icon>
            {{ 'accounts.subtitle' | translate }}
          </div>
        </div>
        <div class="col-auto ms-auto d-print-none">
          <div class="btn-list">
            <button class="btn btn-primary d-none d-sm-inline-block" (click)="createAccount()">
              <fa-icon [icon]="'plus'" class="me-2"></fa-icon>
              {{ 'accounts.actions.create' | translate }}
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="page-body">
      <div class="container-xl">
        <div class="card">
          <div class="card-body">
            <!-- Filter Section -->
            <div class="d-flex align-items-center mb-3">
              <div class="me-3">
                <div class="input-group">
                  <span class="input-group-text">
                    <fa-icon [icon]="'user'"></fa-icon>
                  </span>
                  <select class="form-select" [(ngModel)]="selectedKind" (ngModelChange)="onKindChange($event)">
                    <option selected value="ALL">{{ 'accounts.kind.all' | translate }}</option>
                    <option *ngFor="let kind of accountKinds" [value]="kind">
                      {{ 'accounts.kind.' + kind | translate }}
                    </option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Data Table -->
            <app-data-table
              #dataTable
              [data]="accounts"
              [columns]="columns"
              [loading]="loading"
              [totalItems]="totalRecords"
              [currentPage]="currentPage"
              [pageSize]="pageSize"
              [showSearch]="true"
              [showPagination]="true"
              [emptyMessage]="'accounts.messages.noData' | translate"
              (edit)="onEdit($event)"
              (delete)="onDelete($event)"
              (pageChange)="onPageChange($event)"
              (pageSizeChange)="onPageSizeChange($event)"
              (search)="onSearch($event)"
              (rowClick)="onRowClick($event)"
            >
            </app-data-table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Add/Edit Account Modal -->
<app-add-account
  [showModal]="showAddEditModal"
  [account]="selectedAccount"
  (closeModal)="onModalClose()"
  (accountSaved)="onAccountSaved($event)"
></app-add-account>
